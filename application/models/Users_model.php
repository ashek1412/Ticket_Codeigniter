<?phpclass Users_model extends CI_Model {	// Get user information	public function get_user_info($id) {		$id = (int)$id;		$sql = "SELECT * FROM `tickerr_users` WHERE `id`=?";		$query = $this->db->query($sql, array($id));		return $query->row();	}		// Get user role	public function get_user_role($username) {		$sql = "SELECT `role` FROM `tickerr_users` WHERE `username`=?";		$query = $this->db->query($sql, array($username));		$row = $query->row();		return $row->role;	}		// Get user ID (by the username)	public function get_user_id($username) {		$sql = "SELECT `id` FROM `tickerr_users` WHERE `username`=?";		$query = $this->db->query($sql, array($username));		$row = $query->row();		return $row->id;	}		// Update user data	public function change_user_data($user, $data, $val) {		$sql = "UPDATE `tickerr_users` SET `$data`=? WHERE `id`=?";		$query = $this->db->query($sql, array($val, (int)$user));		return true;	}		// Get agents list	public function get_agents() {		$sql = "SELECT * FROM `tickerr_users` WHERE `role` = 2 OR `role` = 3";				$query = $this->db->query($sql);		return $query;	}    public function get_user_info_email($id) {        $id = $id;        $sql = "SELECT * FROM `tickerr_users` WHERE `email`=?";        $query = $this->db->query($sql, array($id));        return $query->row();    }    public function get_user_serial_numbers($uid,$pid) {        $sql = "SELECT s.serial,p.name FROM tickerr_serial_numbers s inner join tickerr_products p on s.productid=p.id  WHERE s.userid=? and s.productid=?";        $query = $this->db->query($sql, array($uid,$pid));        $row = $query->row();        return $row;    }             function get_all_desktop_user(){        $sql = "SELECT id,username, name, email FROM tickerr_desktop_users order by id";        $query = $this->db->query($sql);        return $query->result();    		}			 function check_desktop_user_news($uid){        $sql = "SELECT count(id) as cnt FROM tickerr_desktop_news_users where user_id=?";        $query = $this->db->query($sql,$uid);        return $query->result();    		}					public function new_news_desktop_user($uid, $fid) {							// Data to insert		$userf = array(			'user_id' => $uid,			'news_id' => $fid,			'seen_stat' => 0,						'seen_time' => date('Y-m-d H:i:s')					);						if($this->db->insert('tickerr_desktop_news_users', $userf) == true) {			// save confirmation and return user id						return $this->db->insert_id();		}		return false;	}		public function delete_news_desktop_user($fid) {					     $sql = "DELETE from `tickerr_desktop_news_users`  WHERE `news_id`=?";        $query = $this->db->query($sql, $fid);        if($query == true)            return true;        else            return false;			}}